<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../sistema/layout/template.xhtml">
	<ui:define name="conteudo">
	<script src="#{contextoBean.contexto}/vendors/input-mask/input-mask.min.js"/>
	<script src="#{contextoBean.contexto}/vendors/bower_components/bootstrap-select/dist/js/bootstrap-select.js"></script>
	
    	<div class="container">
                    <div class="block-header"></div>
			
					<div class="card">
						<p:growl id="growl" sticky="true" />
                    	<h:form id="Usuario" styleClass="form-horizontal" >   
                            <div class="card-header">
                                <h2>Usuário 
                                <small> Usuário que irá utilizar o sistema.
								</small></h2>
									
                            </div>
                            
                            <div class="card-body card-padding">
	                           	<div class="form-group">
	                                  <label for="inputEmail3" class="col-sm-2 control-label">Login</label>
	                                  <div class="col-sm-10">
	                                      <div class="fg-line">	                                          
	                                          <p:inputText id="login" required="true" value="#{usuarioBean.usuario.login}"  styleClass="form-control"/>
	                                      </div>
	                                  </div>
	                            </div>
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Senha</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                             <h:inputSecret id="senha" value="#{usuarioBean.usuario.password}" class="form-control input-sm" required="true"/>   
                                        </div>
                                    </div>
                                </div>
                                
                            	  
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Nome</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                           <p:inputText id="Nome" required="true" value="#{usuarioBean.usuario.nome}"  styleClass="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Cpf</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                         
                                          	<p:inputMask id="Cpf" value="#{usuarioBean.usuario.cpf}"  styleClass="form-control"   mask="000.000.000-00" >
                                       		<f:converter converterId="CpfConverter"/>
                                       	</p:inputMask>
                                        </div>
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Telefone</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                           <p:inputMask  id="Telefone" value="#{usuarioBean.usuario.telefone}"  styleClass="form-control input-mask" mask="(99)99999-9999" />
                                        </div>
                                    </div>
                                </div> 
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Celular</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                           <p:inputMask  id="Celular" value="#{usuarioBean.usuario.celular}"  styleClass="form-control input-mask" mask="(99)99999-9999" />
                                        </div>
                                    </div>
                                </div> 
                               
                                
                                
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Email</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                           <p:inputText id="Email" required="true" value="#{usuarioBean.usuario.email}"  styleClass="form-control" placeholder="xxx@xxx.com.br" />
                                        </div>
                                    </div>
                                </div> 
                                
                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Ap/Sob/Csa nº</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">                                           
                                 				<p:inputText id="Numero"  value="#{usuarioBean.usuario.numero}"  styleClass="form-control" />
                                       </div>
                                    </div>
                                </div> 
                                
                                 <div class="form-group">
                                    <label class="col-sm-2 control-label">Garagem</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                           <p:inputText id="Garagem"  value="#{usuarioBean.usuario.garagem}"  styleClass="form-control" />
                                        </div>
                                    </div>
                                </div>
                                
                                 <div class="form-group">
                                    <label class="col-sm-2 control-label">Contato</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                       		<p:inputText id="Contato"  value="#{usuarioBean.usuario.contato}"  styleClass="form-control" />
                                        </div>
                                    </div>
                                </div> 
                                
                                 <div class="form-group">
                                    <label class="col-sm-2 control-label">Ativo</label>
                                    <div class="col-sm-10">
                                        <div class="fg-line">
                                       		<div class="checkbox">
	                                        <label>
	                                            <h:selectBooleanCheckbox id="Ativo" value="#{usuarioBean.usuario.ativo}" />
	                                            <i class="input-helper"></i>
	                                           
	                                        </label>
	                                    </div>
                                        </div>
                                    </div>
                                </div> 
                                
                                
                                
                                
                                <c:if test="#{loginBean.usuario.perfils.get(0).descricao=='sindico' || (loginBean.usuario.perfils.get(0).descricao=='admin') || (loginBean.usuario.perfils.get(0).descricao=='super')}">	
	                                 <div class="form-group">
		                                    <label class="col-sm-2 control-label">Condominio</label>
		                                    <div class="col-sm-10">
		                                         <div class="fg-line">
													<h:selectOneMenu id="Condominio" value="#{usuarioBean.idCondominio}" styleClass="selectpicker">
	  														<f:selectItems value="#{usuarioBean.condominios}" var="c"  itemLabel="#{c.nome}"  itemValue="#{c.idCondominio}"/>
	  												</h:selectOneMenu>	
												</div>
		                                    </div>
	                                </div>
	                            </c:if> 
                                
                                 <c:if test="#{(loginBean.usuario.perfils.get(0).descricao=='admin') || (loginBean.usuario.perfils.get(0).descricao=='super')}">
	                                <div class="form-group">
		                                    <label class="col-sm-2 control-label">Tipo</label>
		                                    <div class="col-sm-10">
		                                         <div class="fg-line">
													<h:selectOneMenu id="Perfil" value="#{usuarioBean.idPerfil}" styleClass="selectpicker" >
	  														<f:selectItems value="#{usuarioBean.perfils}" var="p"  itemLabel="#{p.descricao}"  itemValue="#{p.idPerfil}"/>
	  												</h:selectOneMenu>	
												</div>
		                                    </div>
		                            </div>
                                </c:if>
                                 
                                <c:if test="#{loginBean.usuario.perfils.get(0).descricao=='super'}">			 
					                 
	                                <div class="form-group">
	                                    <label class="col-sm-2 control-label">Administradora</label>
	                                    <div class="col-sm-10">
	                                        <div class="fg-line">
													<h:selectOneMenu value="#{usuarioBean.idAdministradora}" styleClass="selectpicker">
	  														<f:selectItems value="#{usuarioBean.administradoras}" var="a"  itemLabel="#{a.nome}"  itemValue="#{a.idAdministradora}"/>
	  												</h:selectOneMenu>	
												</div>
	                                    </div>
	                                </div>
                                
                                 </c:if>
                                 
                                 <div class="form-group">                             
		                      		<div class="col-sm-offset-2 col-sm-10">
                                   		<p:commandButton id="Salvar" ajax="false" value="Salvar" styleClass="btn bgm-red btn-sm" actionListener="#{usuarioBean.salvar}"  />
                             		</div>
                            	</div>        
                               
                                
                            </div>
                        </h:form>
                    </div>
			</div>
		</ui:define>
	</ui:composition>
</html>